export ZDOTDIR=~/.zsh

# Sequence: https://zsh.sourceforge.io/Doc/Release/Files.html#Startup_002fShutdown-Files

set -o allexport

typeset -U path

path_prepend=(
  ~/.local/bin
  /usr/local/bin
  /usr/local/sbin
  ~/.dotnet/tools
  ~/go/bin
  ~/.gem/ruby/3.0.0/bin
  $path
)

# F***ING OS X breaks things, adding its garbage to PATH beginning
# This is only load script executed when Automator loads,
# so we need path setup here.
path=($path_prepend $path)
# And then... see .zprofile =)

# LANGUAGE='ru:en'
# LC_ALL=$LANG

XDG_CACHE_HOME=~/.cache
XDG_CONFIG_HOME=~/.config
XDG_DATA_HOME=~/.data

{{ if eq .chezmoi.os "darwin" -}}
  XDG_RUNTIME_DIR=$XDG_CACHE_HOME
{{- end }}

typeset -TU XDG_DATA_DIRS xdg_data_dirs :
xdg_data_dirs=($XDG_DATA_HOME ~/.local/share $xdg_data_dirs)

typeset -TU XDG_CONFIG_DIRS xdg_config_dirs :
xdg_config_dirs=($XDG_CONFIG_HOME $xdg_config_dirs)

{{- if .termux }}
  TMPDIR=$PREFIX/tmp
{{- else }}
  TMPDIR=/tmp
{{- end }}

set +o allexport

# typeset -T PROFILES profiles :
profiles=($ZDOTDIR/.zshenv)
